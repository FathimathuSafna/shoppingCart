<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="path/to/bootstrap.css">
  <title>Manage Orders</title>
  <style>
    .container {
      padding-top: 1rem;
      margin-left: var(--offcanvas-width); /* Adjust as needed */
    }

    .table-responsive {
      overflow-x: auto; /* Allows horizontal scrolling on small screens */
    }

    .table th, .table td {
      white-space: nowrap; /* Prevents text from wrapping in table cells */
      padding: 0.75rem; /* Add some padding for better readability */
    }

    /* Responsive Styles */
    @media (max-width: 992px) {
      .container {
        margin-left: 0; /* Remove margin on smaller screens */
      }
    }

    @media (max-width: 768px) {
      .table th, .table td {
        padding: 0.5rem; /* Reduce padding on smaller screens */
      }
    }

    @media (max-width: 576px) {
      .table th, .table td {
        font-size: 0.875rem; /* Reduce font size on very small screens */
        padding: 0.25rem; /* Further reduce padding */
      }

      .table-responsive {
        margin-left: 0; /* Ensure proper alignment on very small screens */
      }
    }
  </style>
</head>
<body>
  <main class="mt-5 pt-3"> <!-- Adjusted margin-top for main content to account for the fixed navbar -->
    <section>
      <div class="container">
        <div class="row mt-4">
          <h1 class="h4  mb-4"> PENDING ORDERS</h1>
          <div class="table-responsive">
            <table class="table table-bordered">
              <thead>
                <tr>
                  <th scope="col">Date</th>
                  <th>Address</th>   
                  <th>Pincode</th>                                                                    
                  <th>Mobile</th>
                  <th scope="col">Amount</th>
                  <th scope="col">Payment</th>
                  <th>Status</th>
                  <th>Action</th> <!-- Added Action column for button -->
                </tr>
              </thead>
              <tbody>
                {{#each orders}}
                <tr>
                  <td>{{this.date}}</td>
                  <td>{{this.deliveryDetails.address}}</td>
                  <td>{{this.deliveryDetails.pincode}}</td>
                  <td>{{this.deliveryDetails.mobile}}</td>
                  <td>{{this.totalAmount}}</td>
                  <td>{{this.paymentMethod}}</td>
                  <td>{{this.status}}</td>
                  <td>
                    <button class="btn btn-sm btn-success" onClick="orderProgress('{{this._id}}')">Place Order</button>
                  </td>
                </tr>
                {{/each}}
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </section>
  </main>

  <script src="path/to/jquery.js"></script> <!-- Include jQuery -->
  <script src="path/to/bootstrap.bundle.js"></script>
  <script>
    function orderProgress(orderId) {
      $.ajax({
        url: '/admin/inProgress',
        data: { orderId: orderId },  // Make sure this key matches what the backend expects
        method: 'POST',
        success: (response) => {
          console.log('Response from server:', response);  // Log the response to see what the server returns
          if (response.orderProgress) {
            location.reload();  // Reload the page to reflect the changes
          } else {
            alert('Failed to update order status.');
          }
        },
        error: (err) => {
          console.error('Error:', err);
        }
      });
    }
  </script>
</body>
</html>
